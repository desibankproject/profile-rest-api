<!DOCTYPE html>
<html lang="en">
<head>
  <title>Students Profile!</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
  
  <script>
    
    $(document).ready(function() {
        //We have code for AJAX call where we are sending JSON Data
        $("#login").click(function(){
            var pusername=$("#username").val();
            var ppassword=$("#password").val();
            var pdata={username:pusername,password:ppassword};
            var jsonText=JSON.stringify(pdata);
            //{  "username" : "jack",  "password" : "dddd"}
	        	//using function constructor
            $.ajax({url:"/login",contentType: "application/json; charset=utf-8", dataType: "json", 
                     type: 'POST',data:jsonText,success:function(response) {  
               
                  console.log(response); //{  "status": "fail","message": "Sorry !, Username and password are not correct!"}
                if(response.status=="success"){
                    window.location.href="dstudent.htm";
                }else{
                  $("#emessage").html(response.message);
                }

		        }}); //End of AJAX

        }); //end of click event
     
    }); //This is end of the ready!
  
  </script>

</head>
<body>

<header style="height: 30px;background-color: #cddc39;">
</header>

<div class="container">
   <img src="img/user_lock.png" style="height: 100px;"/> 	
  <h2>USER LOGIN PAGE</h2>
   <span style="font-size: 22px;color: blue" id="emessage"></span>
   <hr/>
    <form>
     <br/><br/>
      <label>Username</label>
      &nbsp;&nbsp;&nbsp;&nbsp;
     <input type="text" name="username" id="username" class="form-control" style="width: 50%;display: inline;margin-right: 40px;"/>
     <br/><br/>
       <label>Password</label>
      &nbsp;&nbsp;&nbsp;&nbsp;
     <input type="password" name="password" id="password" class="form-control" style="width: 50%;display: inline;margin-right: 40px;"/>
     <br/><br/>
      <button type="button" class="btn btn-danger"  id="login">Login!</button>
     <br/>
     <hr/>
     <span id="appmessage" style="font-size: 20px;"></span>
    </form>
</div>

</body>
</html>
